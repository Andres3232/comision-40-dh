<!DOCTYPE html>
<html>
  <head>
    <title>Colores</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body  <%= typeof data != 'undefined' ? 'style=background-color:' + data.color : '' %> >
    <h1>Colores</h1>

     <!-- preguntamos si el tipo de data es distinto de undefined, entonces mostramos el mensaje -->

     <% if (typeof data != 'undefined') { %>
        <p> Hola <%= data.name %>, elegiste el color: <%= data.color%>, tu mail es <%= data.email%> y tu edad es <%= data.edad  %>   </p>
     <% } %>
    
    <div id="errores">
      <h2>Errores</h2>
      <!-- // preguntamos si errors es distinto de undefined, entonces hay q recorrer el array de Errore
      //y mostramos el error.msg con una etiqueta span y li -->
      <% if (typeof errors != 'undefined') { %>
       <% errors.forEach(error => { %>
        <li><span><%= error.msg %></span></li>
       <% }) %>
      <% } %>
    </div>
    
    <br>
    <br>

    <form action="/" method="POST">
      <div>
        <label for="">Ingrese su nombre</label>
        <input type="text" name="name" value="<%= typeof old != 'undefined' ? old.name : '' %> ">
      </div>
      
      <div>
        <label for="">Seleccione un color</label>
        <select name="color">
          <option value="">Eleg√≠ un color</option>
          <option value="yellow">Amarillo</option>
          <option value="blue">Azul</option>
          <option value="red">Rojo</option>
          <option value="green">Verde</option>
        </select>
      
      <div>
        <label for="">Ingrese su mail</label>
        <input type="email" name="email" id="" value="<%= typeof old != 'undefined' ? old.email : '' %> " >
      </div>

      <div>
        <label for="">Ingrese su edad</label>
        <input type="number" name="edad" id="">
      </div>

      <div>
        <label for="">Recordar color</label>
        <input type="checkbox" name="recordar_color" id="">
      </div>

      <button type="submit">Enviar</button>
      <button  href='/olvidar '>Olvidar color</button>
    </form>

  </body>
</html>
